{
  "name": "GitHub Codespaces (Custom)",
  "remoteUser": "codespace",
  "overrideCommand": false,
  "workspaceMount": "source=${localWorkspaceFolder},target=/home/codespace/workspace,type=bind,consistency=cached",
  "workspaceFolder": "/home/codespace/workspace",
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker-host.sock,type=bind"
  ],
  "runArgs": [
    "--cap-add=SYS_PTRACE",
    "--security-opt",
    "seccomp=unconfined",
    "--privileged"
  ],
  "postCreateCommand": "bash .devcontainer/init.sh",
  "build": {
    "context": ".",
    "dockerfile": "./Dockerfile"
  },
  "containerUser": "codespace",
  // Use 'forwardPorts' to make a list of ports inside the container available locally.
  // "forwardPorts": [],
  "customizations": {
    "codespaces": {
      "repositories": {
        "Azure/azure-sdk-assets": {
          "permissions": {
            "contents": "write"
          }
        },
        "dgetu/dotfiles": {
          "permissions": {
            "contents": "write"
          }
        }
      }
    },
    "vscode": {
      "settings": {
        "[fish]": {
          "editor.defaultFormatter": "bmalehorn.vscode-fish"
        },
        "[javascript]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[json]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[jsonc]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[python]": {
          "editor.defaultFormatter": "ms-python.black-formatter"
        },
        "[rust]": {
          "editor.defaultFormatter": "rust-lang.rust-analyzer"
        },
        "[shellscript]": {
          "editor.defaultFormatter": "foxundermoon.shell-format"
        },
        "[typescript]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "diffEditor.maxComputationTime": 0,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.formatOnSave": true,
        "eslint.format.enable": true,
        "files.watcherExclude": {
          "**/target/**": true
        },
        "gitlens.views.searchAndCompare.files.layout": "tree",
        "go.useGoProxyToCheckForToolUpdates": false,
        "go.useLanguageServer": true,
        "prettier.printWidth": 100,
        "python.linting.enabled": true,
        "python.linting.pylintEnabled": true,
        "shellcheck.run": "onSave",
        "terminal.integrated.shell.linux": "/bin/bash"
      }
    }
  },
  // Add the IDs of extensions you want installed when the container is created.
  "extensions": [
    "bmalehorn.vscode-fish",
    "christian-kohler.npm-intellisense",
    "dbaeumer.vscode-eslint",
    "eamodio.gitlens",
    "esbenp.prettier-vscode",
    "github.codespaces",
    "github.copilot-chat",
    "github.copilot",
    "GitHub.vscode-pull-request-github",
    "ms-vscode.powershell",
    "richie5um2.vscode-sort-json",
    "streetsidesoftware.code-spell-checker",
    "timonwong.shellcheck"
  ],
  "features": {
    "./local-features/setup-user": "latest",
    "ghcr.io/devcontainers/features/common-utils:2": {
      "userGid": "1000",
      "username": "codespace",
      "userUid": "1000"
    },
    "ghcr.io/devcontainers/features/docker-in-docker:2": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/dotnet:2": {
      "aspNetCoreRuntimeVersions": "8.0",
      "dotnetRuntimeVersions": "8.0",
      "version": "8.0"
    },
    "ghcr.io/devcontainers/features/git-lfs:1": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/git:1": {
      "ppa": "false",
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/github-cli:1": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/python:1": {
      "additionalVersions": "3.9.18",
      "configureJupyterlabAllowOrigin": "*",
      "installJupyterlab": "true",
      "useOryxIfAvailable": "false",
      "version": "3.10.13"
    },
    "ghcr.io/devcontainers/features/sshd:1": {
      "version": "latest"
    }
  },
  "overrideFeatureInstallOrder": [
    "ghcr.io/devcontainers/features/common-utils",
    "ghcr.io/devcontainers/features/git",
    "ghcr.io/devcontainers/features/dotnet",
    "ghcr.io/devcontainers/features/hugo",
    "ghcr.io/devcontainers/features/node",
    "./local-features/nvs",
    "ghcr.io/devcontainers/features/conda",
    "./local-features/patch-conda",
    "ghcr.io/devcontainers/features/python",
    "./local-features/patch-python",
    "./local-features/machine-learning-packages",
    "ghcr.io/devcontainers/features/php",
    "ghcr.io/devcontainers/features/ruby",
    "ghcr.io/devcontainers/features/java",
    "ghcr.io/devcontainers/features/sshd",
    "ghcr.io/devcontainers/features/git-lfs",
    "ghcr.io/devcontainers/features/github-cli",
    "ghcr.io/devcontainers/features/docker-in-docker",
    "ghcr.io/devcontainers/features/kubectl-helm-minikube",
    "ghcr.io/devcontainers/features/go",
    "./local-features/jekyll",
    "ghcr.io/devcontainers/features/oryx",
    "./local-features/setup-user"
  ]
}
